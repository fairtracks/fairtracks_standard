{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://raw.githubusercontent.com/fairtracks/fairtracks_standard/master/json/schema/fairtracks_experiment.schema.json",
    "$comment": "OPML signature: e389adde006c1f15fd55cfd9096aaa74cdbd909e6d9fea556a13b33ae1203b15",
    "title": "FAIRification of Genomic Tracks JSON Schema - Experiment",
    "type": "object",
    "properties": {
        "@schema": {
            "description": "The JSON schema absolute IRI. Used for link JSON data to a particular version of the JSON schema. Must match the value of 'id' in the linked schema",
            "type": "string",
            "format": "iri",
            "const": "https://raw.githubusercontent.com/fairtracks/fairtracks_standard/master/json/schema/fairtracks_experiment.schema.json"
        },
        "global_id": {
            "description": "Global experiment identifier, resolvable by identifiers.org",
            "type": "string",
            "format": "curie",
            "namespace": [
                "geo",
                "ega.experiment"
            ],
            "matchType": "canonical"
        },
        "local_id": {
            "description": "Submitter-local identifier (within investigation/hub) for experiment (in curie-format, if applicable)",
            "type": "string",
            "unique": true
        },
        "study_ref": {
            "description": "Reference to the study that generated the sample (using the submitter-local identifier of the study)",
            "type": "string",
            "format": "foreign_ref",
            "foreignProperty": "https://raw.githubusercontent.com/fairtracks/fairtracks_standard/master/json/schema/fairtracks_study.schema.json#local_id"
        },
        "sample_ref": {
            "description": "Reference to the sample of the experiment (using the submitter-local identifier of the sample)",
            "type": "string",
            "format": "foreign_ref",
            "foreignProperty": "https://raw.githubusercontent.com/fairtracks/fairtracks_standard/master/json/schema/fairtracks_sample.schema.json#local_id"
        },
        "aggregated_from": {
            "description": "References to external experiments used as basis for aggregated data generation (using global experiment identifiers, resolvable by identifiers.org)",
            "type": "array",
            "items": {
                "type": "string",
                "format": "curie",
                "namespace": "geo",
                "matchType": "canonical",
                "minItems": 1
            }
        },
        "technique": {
            "type": "object",
            "properties": {
                "term_iri": {
                    "description": "Technique used for experiment (IRI linking to an OBI ontology term)",
                    "type": "string",
                    "format": "term",
                    "ontology": "http://purl.obolibrary.org/obo/obi/2018-08-27/obi.owl",
                    "matchType": "exact"
                },
                "term_value": {
                    "description": "Technique used for experiment (exact value according to the OBI ontology)",
                    "type": "string",
                    "autogenerated": true
                }
            },
            "required": [
                "term_iri"
            ]
        },
        "target": {
            "description": "Main target of experiment, e.g. antibody/disease/gene/... [Needs more details]",
            "type": "object",
            "properties": {
                "term_iri": {
                    "description": "IRI linking to an ontology term",
                    "type": "string",
                    "format": "term",
                    "ontology": "https://raw.githubusercontent.com/The-Sequence-Ontology/SO-Ontologies/v3.1/releases/so-xp.owl/so.owl",
                    "matchType": "exact"
                },
                "term_value": {
                    "description": "Exact value according to the ontology used",
                    "type": "string",
                    "autogenerated": true
                }
            },
            "required": [
                "term_iri"
            ]
        },
        "lab_protocol_description": {
            "description": "Free-text description of lab protocol, or IRI to such description",
            "type": "string"
        },
        "compute_protocol_description": {
            "description": "Free-text description of computational protocol, or IRI to such description",
            "type": "string"
        }
    },
    "required": [
        "local_id",
        "study_ref",
        "technique",
        "target"
    ],
    "anyOf": [
        {
            "required": [
                "sample_ref"
            ]
        },
        {
            "required": [
                "aggregated_from"
            ]
        }
    ],
    "additionalProperties": true
}