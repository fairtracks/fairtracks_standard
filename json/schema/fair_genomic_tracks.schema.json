{
    "$schema": "http://json-schema.org/draft-06/hyper-schema#",
    "$id": "https://www.elixir-europe.org/IS/FAIRGenomicTracks/json-schemas/0.1",
    "title": "FAIRification of Genomic Tracks JSON Schema",
    "type": "object",
    "properties": {
        "fair_tracks": {
            "type": "object",
            "properties": {
                "_schema": {
                    "description": "The JSON schema absolute URI. Used for link JSON data to a particular version of the JSON schema. Must match the value of 'id' in the linked schema",
                    "type": "string",
                    "format": "uri",
                    "const": "https://www.elixir-europe.org/IS/FAIRGDataTracks/json-schemas/0.1"
                },
                "experiment": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "object",
                            "properties": {
                                "global_exp_id": {
                                    "description": "Global experiment id, registered in TrackFind, and resolvable by identifiers.org",
                                    "type": "string",
                                    "examples": [
                                        "123:456:789"
                                    ],
                                    "autogenerated": true
                                },
                                "exp_metadata_version": {
                                    "description": "Version of metadata for experiment, registered in TrackFind. [Add explanation. Pattern incorrect, \"0:0:0\" should work]",
                                    "type": "string",
                                    "pattern": "^[1-9][0-9]*:[1-9][0-9]*:[1-9][0-9]*$",
                                    "examples": [
                                        "123:456:789"
                                    ],
                                    "autogenerated": true
                                },
                                "project_exp_id": {
                                    "description": "Submitter-local identifier (within trackhub) for experiment",
                                    "type": "string",
                                    "examples": [
                                        "123:456:789"
                                    ]
                                }
                            },
                            "required": [
                                "project_exp_id"
                            ]
                        },
                        "type": {
                            "type": "object",
                            "properties": {
                                "exp_type_url": {
                                    "description": "Type of experiment (URL linking to the a term in the OBI ontology)",
                                    "type": "string",
                                    "ontology": "http://purl.obolibrary.org/obo/obi/2018-08-27/obi.owl",
                                    "examples": [
                                        "http://purl.obolibrary.org/obo/OBI_0000716"
                                    ]
                                },
                                "exp_type_term": {
                                    "description": "Type of experiment (Textual version of exp_type_url, according to the OBI ontology)",
                                    "type": "string",
                                    "examples": [
                                        "ChIP-seq assay"
                                    ],
                                    "autogenerated": true
                                }
                            },
                            "required": [
                                "exp_type_url"
                            ]
                        },
                        "target": {
                            "description": "Main target of experiment, e.g. antibody/disease/gene/... [Needs more details]",
                            "type": "string",
                            "examples": [
                                "MITF"
                            ]
                        },
                        "contact_orcid_id": {
                            "description": "ORCID id to contact person for experiment",
                            "type": "string",
                            "namespace": "orcid",
                            "examples": [
                                "https://orcid.org/0000-0002-9103-1077"
                            ]
                        },
                        "lab_protocol_description": {
                            "description": "Field(s) for lab protocol metadata [should include date]",
                            "type": "string",
                            "examples": [
                                "Some text including date"
                            ]
                        },
                        "compute_protocol_description": {
                            "description": "Field(s) for computational protocol metadata [should include date]",
                            "type": "string",
                            "examples": [
                                "Some text including date"
                            ]
                        }
                    },
                    "required": [
                        "id",
                        "type",
                        "target",
                        "contact_orcid_id"
                    ]
                },
                "sample": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "object",
                            "properties": {
                                "biosample_id": {
                                    "description": "BioSampleID of the main sample used in the expermient, as registered in the BioSample database",
                                    "type": "string",
                                    "examples": [
                                        "SAMN08738466"
                                    ]
                                },
                                "project_sample_id": {
                                    "description": "Submitter-local identifier (within trackhub) for sample",
                                    "type": "string",
                                    "examples": [
                                        "123:456:789"
                                    ]
                                }
                            },
                            "required": [
                                "biosample_id",
                                "project_sample_id"
                            ]
                        },
                        "type": {
                            "type": "object",
                            "properties": {
                                "sample_type_url": {
                                    "description": "Type of sample (URL linking to the a term either of the EFO, CL or UBERON ontologies, depending on type)",
                                    "type": "string",
                                    "ontology": [
                                        "http://www.ebi.ac.uk/efo/releases/2018-02-15/efo.owl",
                                        "http://purl.obolibrary.org/obo/cl/releases/2018-07-07/cl.owl",
                                        "http://purl.obolibrary.org/obo/uberon/releases/2018-07-30/uberon.owl"
                                    ],
                                    "examples": [
                                        "http://www.ebi.ac.uk/efo/EFO_0003042"
                                    ]
                                },
                                "sample_type_term": {
                                    "description": "Type of experiment (Textual version of sample_type_url, according to the ontology used)",
                                    "type": "string",
                                    "examples": [
                                        "H1-hESC"
                                    ],
                                    "autogenerated": true
                                },
                                "biomaterial_type": {
                                    "description": "Type of biomaterial (Needs ontology and should be expanded to a URL/text pair)",
                                    "type": "string",
                                    "examples": [
                                        "Cell line"
                                    ]
                                }
                            },
                            "required": [
                                "sample_type_url"
                            ]
                        }
                    },
                    "required": [
                        "id",
                        "type"
                    ]
                },
                "study": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "object",
                            "properties": {
                                "project_name": {
                                    "description": "Name of project the experiment belongs to",
                                    "type": "string",
                                    "examples": [
                                        "MyProject"
                                    ]
                                },
                                "project_study_id": {
                                    "description": "Submitter-local identifier (within trackhub) for study",
                                    "type": "string",
                                    "examples": [
                                        "123:456:789"
                                    ]
                                },
                                "pubmed_id": {
                                    "description": "Pubmed id (dataset or publication)",
                                    "type": "string",
                                    "namespace": "pubmed",
                                    "examples": [
                                        "28459977"
                                    ]
                                }
                            },
                            "required": [
                                "project_name",
                                "project_study_id"
                            ]
                        },
                        "phenotype": {
                            "type": "object",
                            "properties": {
                                "disease_url": {
                                    "description": "Disease which is studied, if any (URL linking to a term in a set of ontologies, yet to be fully determined)",
                                    "type": "string",
                                    "namespace": "http://purl.obolibrary.org/obo/ncit/releases/2018-04-05/ncit.owl",
                                    "examples": [
                                        "https://ncim.nci.nih.gov/ncimbrowser/ConceptReport.jsp?dictionary=NCI%20Metathesaurus&code=C1272460"
                                    ]
                                },
                                "disease_term": {
                                    "description": "Disease which is studied, if any (Textual version of disease_url, according to the ontology used)",
                                    "type": "string",
                                    "examples": [
                                        "Not Applicable"
                                    ],
                                    "autogenerated": true
                                }
                            },
                            "required": [
                                "disease_url"
                            ]
                        }
                    },
                    "required": [
                        "id",
                        "phenotype"
                    ]
                },
                "tracks": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "id": {
                                "type": "object",
                                "properties": {
                                    "global_track_id": {
                                        "description": "Global experiment id, registered in TrackFind, and resolvable by identifiers.org",
                                        "type": "string",
                                        "examples": [
                                            "123:456:789",
                                            "123:456:790"
                                        ],
                                        "autogenerated": true
                                    },
                                    "project_track_id": {
                                        "description": "Submitter-local identifier (within trackhub) for track",
                                        "type": "string",
                                        "examples": [
                                            "123:456:789",
                                            "123:456:790"
                                        ]
                                    },
                                    "url": {
                                        "description": "A URL to the track data file",
                                        "type": "string",
                                        "format": "uri",
                                        "examples": [
                                            "ftp://myproject.org/files/h1hesc-mitf.bw",
                                            "ftp://myproject.org/files/h1hesc-mitf.bed"
                                        ]
                                    }
                                },
                                "required": [
                                    "project_track_id",
                                    "url"
                                ]
                            },
                            "name": {
                                "type": "object",
                                "properties": {
                                    "filename": {
                                        "description": "Name of the track file",
                                        "type": "string",
                                        "examples": [
                                            "h1hesc-mitf.bw",
                                            "h1hesc-mitf.bed"
                                        ],
                                        "autogenerated": true
                                    },
                                    "short_label": {
                                        "description": "A short label of the track file [less than 14 characters?]",
                                        "type": "string",
                                        "examples": [
                                            "MITF ChIP-seq (H1-hESC) signal",
                                            "MITF ChIP-seq (H1-hESC) peaks"
                                        ]
                                    },
                                    "long_label": {
                                        "description": "A long label of the track file",
                                        "type": "string",
                                        "examples": [
                                            "MITF ChIP-seq assay in human embryonic stem cell line H1-hESC - signal (log2 fold change)",
                                            "MITF ChIP-seq assay in human embryonic stem cell line H1-hESC - called peaks"
                                        ]
                                    }
                                },
                                "required": [
                                    "short_label",
                                    "long_label"
                                ]
                            },
                            "genome_assembly": {
                                "description": "An assembly identifier (using UCSC nomenclature)",
                                "type": "string",
                                "examples": [
                                    "hg38",
                                    "hg38"
                                ]
                            },
                            "type": {
                                "type": "object",
                                "properties": {
                                    "fileformat_url": {
                                        "description": "File format (URL linking to the a term in the EDAM ontology)",
                                        "type": "string",
                                        "format": "uri",
                                        "examples": [
                                            "http://edamontology.org/format_3006",
                                            "http://edamontology.org/format_3003"
                                        ]
                                    },
                                    "fileformat_term": {
                                        "description": "File format (Textual version of fileformat_url, according to the EDAM ontology)",
                                        "type": "string",
                                        "examples": [
                                            "bigWig",
                                            "BED"
                                        ],
                                        "autogenerated": true
                                    },
                                    "datatype_url": {
                                        "description": "Conceptual type of data represented by the track file (URL linking to the a term in the EDAM ontology)",
                                        "type": "string",
                                        "format": "uri",
                                        "examples": [
                                            "http://edamontology.org/data_1255",
                                            "http://edamontology.org/data_1255"
                                        ]
                                    },
                                    "datatype_term": {
                                        "description": "Conceptual type of data represented by the track file (Textual version of datatype_url, according to the EDAM ontology)",
                                        "type": "string",
                                        "examples": [
                                            "Sequence features",
                                            "Sequence features"
                                        ],
                                        "autogenerated": true
                                    }
                                },
                                "required": [
                                    "fileformat_url"
                                ]
                            },
                            "checksum": {
                                "type": "object",
                                "properties": {
                                    "cs_method": {
                                        "description": "Method of checksum generation",
                                        "type": "string",
                                        "examples": [
                                            "MD5",
                                            "MD5"
                                        ]
                                    },
                                    "cs_hash": {
                                        "description": "Checksum of track file, using the method described in cs_method",
                                        "type": "string",
                                        "examples": [
                                            "79054025255fb1a26e4bc422aef54eb4",
                                            "283bed82f39821398aabbd29319013d2"
                                        ]
                                    }
                                },
                                "required": [
                                    "cs_method",
                                    "cs_hash"
                                ]
                            }
                        },
                        "required": [
                            "id",
                            "name",
                            "genome_assembly",
                            "type",
                            "checksum"
                        ]
                    }
                }
            },
            "required": [
                "_schema",
                "experiment",
                "sample",
                "study",
                "tracks"
            ]
        }
    },
    "required": [
        "fair_tracks"
    ],
    "additionalProperties": true,
    "primary_key": [],
    "dependencies": {}
}